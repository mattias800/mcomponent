<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
  "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
  <script src="http://code.jquery.com/jquery-latest.js"></script>
  <script type="text/javascript" src="http://code.jquery.com/qunit/git/qunit.js"></script>
  <script type="text/javascript" src="mcomponent.js"></script>
  <script type="text/javascript" src="../test/mcomponent-test.js"></script>

  <link rel="stylesheet" href="http://code.jquery.com/qunit/git/qunit.css" type="text/css" media="screen"/>
</head>
<body>

<div id="map">
</div>

<script type="text/javascript">
  model = {
    displaySettings : {
      list : {
        showName : "yes"
      }
    },
    user : {
      name : "mattias"
    }
  };
  view = "{% push user %}" +
         "{% showjs api.lookup('displaySettings.list.showName') %}" +
         "{% if api.lookup('displaySettings.list.showName') == 'yes' %}" +
         "funkar" +
         "{% else %}" +
         "funkar inte" +
         "{% endif %}" +
         "{% endpush %}";

  console.log("model", model);
  var c = $().mcomponent({model : model, viewHtml : view});
  var v = c._assertInterpret();
  if (v !== "funkar") {
    console.error("Is not 'funkar'", v);
  }
  else {
    console.log("YAY!", v);
  }

</script>

<h1 id="qunit-header">mcomponent unit tests</h1>

<h2 id="qunit-banner"></h2>

<div id="qunit-testrunner-toolbar"></div>
<h2 id="qunit-userAgent"></h2>
<ol id="qunit-tests"></ol>
</body>
</html>
